{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('13DjfUB2jSoy7wl3houUCi7cVBRVLyQtAb2_HJ4-eruQ');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = console.log(JSON.parse(req.body));\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      Whattsapp: data.Whattsapp,\n      Cupom: 'aaa111',\n      Promo: 'asdaffas'\n    });\n    res.end(req.body);\n  } catch (err) {\n    console.log(err);\n    res.end('error');\n  }\n});","map":{"version":3,"sources":["/home/danillo/git/devfullmaster/palpite-box/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","data","console","log","JSON","parse","body","addRow","Nome","Email","Whattsapp","Cupom","Promo","end","err"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAI,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAb;AAEA,gBAAe,OAAMG,GAAN,EAAWC,GAAX,KAAmB;AAC9B,MAAI;AACA,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AAEA,UAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWV,GAAG,CAACW,IAAf,CAAZ,CAAb;AACA,UAAMP,KAAK,CAACQ,MAAN,CAAa;AACfC,MAAAA,IAAI,EAAEP,IAAI,CAACO,IADI;AAEfC,MAAAA,KAAK,EAAER,IAAI,CAACQ,KAFG;AAGfC,MAAAA,SAAS,EAAET,IAAI,CAACS,SAHD;AAIfC,MAAAA,KAAK,EAAE,QAJQ;AAKfC,MAAAA,KAAK,EAAE;AALQ,KAAb,CAAN;AAOAhB,IAAAA,GAAG,CAACiB,GAAJ,CAAQlB,GAAG,CAACW,IAAZ;AACH,GAdD,CAcC,OAAOQ,GAAP,EAAY;AACTZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACAlB,IAAAA,GAAG,CAACiB,GAAJ,CAAQ,OAAR;AACH;AACJ,CAnBD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet'\nimport credentials from '../../credentials.json'\n\nconst doc =  new GoogleSpreadsheet('13DjfUB2jSoy7wl3houUCi7cVBRVLyQtAb2_HJ4-eruQ')\n\nexport default async(req, res) => {\n    try {\n        await doc.useServiceAccountAuth(credentials)\n        await doc.loadInfo()\n        const sheet = doc.sheetsByIndex[1]\n\n        const data = console.log(JSON.parse(req.body))\n        await sheet.addRow({\n            Nome: data.Nome,\n            Email: data.Email,\n            Whattsapp: data.Whattsapp,\n            Cupom: 'aaa111',\n            Promo: 'asdaffas'\n        })\n        res.end(req.body)      \n    }catch (err) {\n        console.log(err)\n        res.end('error')\n    }\n}"]},"metadata":{},"sourceType":"module"}